<mat-card class="request-card p-sm-5 mt-3">
    <div class="mb-4">
        <div class="d-flex justify-content-between">
            <span class="pointer outer-div" (click)="back()"
                ><mat-icon class="pointer mr-2">arrow_back</mat-icon>Back</span
            >
            <!-- <span class="float-right outer-div pointer">Forward<mat-icon class="pointer ml-2">arrow_forward</mat-icon></span> -->
        </div>
    </div>
    <div class="d-flex justify-content-between header">
        <p class="request-card_title mb-4">Additional Requests</p>
    </div>

    <mat-card-content>
        <div class="row">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef>Request</th>
                    <td mat-cell *matCellDef="let element">
                        <div class="mt-2">{{ element.question.type }}</div>
                        <div class="form-group w-50 text-area mt-4">
                            <!-- <label>Reply no analyst:</label> -->
                            <textarea
                                (keyup)="textAreaValid()"
                                [(ngModel)]="element.answer"
                                [maxlength]="500"
                                class="form-control"
                                rows="3"
                            ></textarea>
                        </div>
                    </td>
                </ng-container>
                <ng-container matColumnDef="category">
                    <th mat-header-cell *matHeaderCellDef>Section</th>
                    <td mat-cell *matCellDef="let element; let i = index" class="align-top">
                        <div class="mt-2">
                            <span class="table-data" (click)="goToBack(element.question.category)">
                                {{ element.question.category }}
                            </span>
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>

            <div>
                <button
                    [disabled]="!(isFormValid.length == 0 && allStepStatus)"
                    class="submit mt-2"
                    (click)="submitAnswers()"
                >
                    Submit
                </button>
            </div>
        </div>
    </mat-card-content>
</mat-card>
